<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Variant Button Test</title>
    <style>
        body {
            margin: 20px;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f5f5f5;
        }
        .test-section {
            margin: 20px 0;
            padding: 20px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body>
    <h1>Simple Variant Button Test</h1>

    <div class="test-section">
        <h2>Button with Self-Switching Variants</h2>
        <p>This button switches between variantDefault (blue) and variantActive (green) on click.</p>
        <div id="button-container"></div>
    </div>

    <div class="test-section">
        <h2>Frame with Self-Switching Variants</h2>
        <p>This Frame switches between variantDefault (blue) and variantActive (green) on click.</p>
        <div id="frame-container"></div>
    </div>

    <script type="module">
        // Mock implementation for testing
        const mockColors = {
            primary6: '#007acc',
            success6: '#28a745',
            white: '#ffffff'
        };

        // Simple mock Frame component
        const MockFrame = ({ variant, variants, children, onClick, style }) => {
            const variantProps = variants?.[variant] || {};
            const backgroundColor = variantProps.fill?.color ? mockColors[variantProps.fill.color] || variantProps.fill.color : '#ccc';
            const color = variantProps.typography?.color ? mockColors[variantProps.typography.color] || variantProps.typography.color : '#000';
            const width = variantProps.autoLayout?.width || 160;
            const height = variantProps.autoLayout?.height || 40;
            const borderRadius = variantProps.appearance?.radius || 6;

            return React.createElement('div', {
                onClick,
                style: {
                    width,
                    height,
                    backgroundColor,
                    color,
                    borderRadius,
                    display: 'flex',
                    alignItems: 'center',
                    justifyContent: 'center',
                    cursor: 'pointer',
                    fontWeight: variantProps.typography?.fontWeight || 500,
                    transition: 'all 0.3s ease',
                    ...style
                }
            }, children);
        };

        // Simple mock Button component
        const MockButton = ({ variant, children, onClick }) => {
            const variants = {
                variantDefault: {
                    autoLayout: { width: 160, height: 40 },
                    appearance: { radius: 6 },
                    fill: { color: 'primary6' },
                    typography: { color: 'white', fontWeight: 500 }
                },
                variantActive: {
                    autoLayout: { width: 160, height: 40 },
                    appearance: { radius: 6 },
                    fill: { color: 'success6' },
                    typography: { color: 'white', fontWeight: 600 }
                }
            };

            return React.createElement('div', {
                style: {
                    display: 'inline-block',
                    cursor: 'pointer',
                    opacity: 1,
                    userSelect: 'none',
                    outline: 'none',
                    transition: 'opacity 0.2s ease-in-out'
                }
            }, React.createElement(MockFrame, {
                variant,
                variants,
                onClick
            }, children));
        };

        // Test component
        const TestVariants = () => {
            const [buttonVariant, setButtonVariant] = React.useState('variantDefault');
            const [frameVariant, setFrameVariant] = React.useState('variantDefault');

            const handleButtonClick = () => {
                setButtonVariant(prev =>
                    prev === 'variantDefault' ? 'variantActive' : 'variantDefault'
                );
            };

            const handleFrameClick = () => {
                setFrameVariant(prev =>
                    prev === 'variantDefault' ? 'variantActive' : 'variantDefault'
                );
            };

            return React.createElement('div', {}, [
                React.createElement('p', { key: 'button-status' },
                    `Button variant: ${buttonVariant}`
                ),
                React.createElement(MockButton, {
                    key: 'button',
                    variant: buttonVariant,
                    onClick: handleButtonClick
                }, 'Click to Switch'),

                React.createElement('p', { key: 'frame-status' },
                    `Frame variant: ${frameVariant}`
                ),
                React.createElement(MockFrame, {
                    key: 'frame',
                    variant: frameVariant,
                    variants: {
                        variantDefault: {
                            autoLayout: { width: 160, height: 40 },
                            appearance: { radius: 6 },
                            fill: { color: 'primary6' },
                            typography: { color: 'white', fontWeight: 500 }
                        },
                        variantActive: {
                            autoLayout: { width: 160, height: 40 },
                            appearance: { radius: 6 },
                            fill: { color: 'success6' },
                            typography: { color: 'white', fontWeight: 600 }
                        }
                    },
                    onClick: handleFrameClick
                }, 'Frame Click to Switch')
            ]);
        };

        // Render
        ReactDOM.render(React.createElement(TestVariants), document.getElementById('button-container'));
        ReactDOM.render(React.createElement(TestVariants), document.getElementById('frame-container'));
    </script>

    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
</body>
</html>